mixin table-tree(items, level = 0)
  each item, index in items
    tr
      td
        input(type="checkbox" name="id" value=item._id)
      td #{index + 1}
      td
        if item.thumbnail
          img(src=item.thumbnail, alt=item.title, width="80px")
        else
          i.text-muted Không có ảnh
      td
        - const prefix = '-- '.repeat(level)
        | #{prefix}#{item.title}
      td
        input(
          type="number"
          value=item.position
          style="width:60px"
          min="1"
          name="position"
        )
      td
        if item.status == "active"
          a(
            href="javascript:;"
            class="badge badge-success"
            data-status=item.status
            button-change-status
            data-id=item._id
          ) Hoạt động
        else
          a(
            href="javascript:;"
            class="badge badge-danger"
            data-status=item.status
            button-change-status
            data-id=item._id
          ) Dừng hoạt động
      td
        a(href=`${prefixAdmin}/products-category/detail/${item._id}` class="btn btn-success btn-sm") Chi tiết
        a(href=`${prefixAdmin}/products-category/edit/${item._id}` class="btn btn-warning btn-sm ml-1") Sửa
        button(class="btn btn-danger btn-sm ml-1" data-id=item._id button-delete) Xoá

    if item.children && item.children.length > 0
      +table-tree(item.children, level + 1)
